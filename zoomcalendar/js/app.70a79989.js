(function(e){function t(t){for(var a,i,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"002a":function(e,t,n){},"0933":function(e,t,n){},"19e3":function(e,t,n){},"22ea":function(e,t,n){"use strict";var a=n("b403"),r=n.n(a);r.a},"287e":function(e,t,n){},3346:function(e,t,n){},"40a2":function(e,t,n){},4105:function(e,t,n){"use strict";var a=n("fca3"),r=n.n(a);r.a},"45f5":function(e,t,n){},"4b56":function(e,t,n){},"501a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("2f62"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"calendar"}},[n("Settings"),n("Week"),n("notifications",{attrs:{group:"main",position:"bottom right","close-on-click":!1}}),n("TransferState")],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"week"}},e._l(e.week,(function(t,a){return n("div",{key:a,staticClass:"day"},[n("h1",[e._v(" "+e._s(t.name)+" ")]),n("draggable",{staticClass:"subjectWrapper",attrs:{value:e.week[a].subjects,group:"subjects",draggable:e.$store.state.settings.syncSchedule?"":".subject",animation:"250",handle:".display",filter:".undraggable","force-fallback":"true",move:e.moveAddIcon},on:{end:e.end,input:function(t){return e.$store.commit("SET_DAY",{dayIdx:a,day:t})}}},[e._l(e.week[a].subjects,(function(e,t){return n("Subject",{key:e.id,attrs:{id:e.id,"day-idx":a,"subject-idx":t,name:e.name,link:e.link,pass:e.pass,"start-time":e.startTime,"end-time":e.endTime}})})),e.$store.state.settings.syncSchedule?e._e():n("AddSymbol",{key:"footer"+a,attrs:{slot:"footer","day-idx":a},on:{add:function(t){return e.$emit("ADD_SUBJECT",a)}},slot:"footer"})],2)],1)})),0)},c=[],u=(n("d3b7"),n("ddb0"),n("b85c")),l=n("5530"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"subject"},["display"===e.mode?n("SubjectDisplay",{attrs:{name:e.name,link:e.link,pass:e.pass,"start-time":e.startTime,"end-time":e.endTime},on:{edit:function(t){e.mode="edit"}}}):e._e(),"edit"===e.mode?n("SubjectEdit",{attrs:{name:e.name,link:e.link,pass:e.pass,"start-time":e.startTime,"end-time":e.endTime},on:{save:e.save,remove:e.remove}}):e._e()],1)},p=[],m=(n("b0c0"),n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"display",style:{cursor:e.$store.state.settings.syncSchedule?"":"grab"}},[n("h2",[e._v(e._s(e.name))]),""!=e.startTime||""!==e.endTime?n("div",{staticClass:"time"},[e._v(" "+e._s(""===e.startTime?"?":e.startTime)+" - "+e._s(""===e.endTime?"?":e.endTime)+" ")]):e._e(),n("div",{staticClass:"actions"},[n("Button",{staticClass:"onColor undraggable",attrs:{title:"Edit subject",disabled:e.$store.state.settings.syncSchedule},on:{click:function(t){return e.$emit("edit")}}},[n("EditIcon",{attrs:{title:"Edit subject",size:20}})],1),n("Button",{staticClass:"onColor undraggable",attrs:{title:"Copy password to clipboard",disabled:""===e.pass},on:{click:function(){return e.copyPassToClipboard(e.pass)}}},[n("CopyIcon",{attrs:{title:"Copy password to clipboard",size:20}})],1),n("Button",{staticClass:"onColor undraggable",attrs:{title:"Launch Zoom meeting (also copies password)",disabled:""===e.link},on:{click:function(){return e.joinMeeting(e.link,e.pass,e.$store.state.settings.closeTab,e.$store.state.settings.closeTabAfter)}}},[n("LaunchIcon",{attrs:{title:"Launch Zoom meeting (also copies password)",size:20}})],1)],1)])}),f=[],h=n("d902"),v=n("3c43"),b=n("5a6b"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",e._g(e._b({},"button",e.$props,!1),e.$listeners),[e._t("default")],2)},y=[],T={name:"Button"},S=T,k=(n("aeb8"),n("2877")),_=Object(k["a"])(S,g,y,!1,null,"0e8e4ab0",null),E=_.exports,j=(n("96cf"),n("1da1"));function w(e){return x.apply(this,arguments)}function x(){return x=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.clipboard){e.next=3;break}throw a["default"].notify({group:"main",title:"Failed to copy the password",text:"Here is your pasword: ".concat(t),duration:1e4,type:"error"}),new Error("Copy to clipboard failed");case 3:return e.next=5,navigator.clipboard.writeText(t);case 5:a["default"].notify({group:"main",title:"Password copied to clipboard",duration:2e3,type:"success"});case 6:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function C(e,t,n,a){return I.apply(this,arguments)}function I(){return I=Object(j["a"])(regeneratorRuntime.mark((function e(t,n,a,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,w(n);case 3:s=window.open(t,"_blank"),a&&setTimeout((function(){s.close()}),1e3*r);case 5:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}var O={name:"SubjectDisplay",components:{EditIcon:h["a"],CopyIcon:v["a"],Button:E,LaunchIcon:b["a"]},props:{name:{type:String,required:!0},link:{type:String,required:!0},pass:{type:String,required:!0},startTime:{type:String,required:!0},endTime:{type:String,required:!0}},methods:{joinMeeting:C,copyPassToClipboard:w}},$=O,A=(n("587d"),Object(k["a"])($,m,f,!1,null,"8c3e2f4c",null)),N=A.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit"},[n("div",{staticClass:"data"},[n("span",[e._v("Name:")]),n("Input",{class:{error:!e.validName,onColor:!0},attrs:{type:"text",placeholder:"DM 2"},on:{input:function(t){return e.newName=t}},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}}),n("span",[e._v("Zoom-Link:")]),n("Input",{class:{error:!e.validLink,onColor:!0},attrs:{placeholder:"https://nordakademie-de.zoom.us/j/1234",type:"text"},model:{value:e.newLink,callback:function(t){e.newLink=t},expression:"newLink"}}),n("span",[e._v("Zoom-Password:")]),n("Input",{staticClass:"onColor",attrs:{placeholder:"1234",type:"text"},model:{value:e.newPass,callback:function(t){e.newPass=t},expression:"newPass"}}),n("span",[e._v("Time:")]),n("div",{staticClass:"timeInputs"},[n("Input",{class:{error:!e.validStartTime,onColor:!0},attrs:{placeholder:"09:15",type:"text"},model:{value:e.newStartTime,callback:function(t){e.newStartTime=t},expression:"newStartTime"}}),n("span",[e._v(":")]),n("Input",{class:{error:!e.validEndTime,onColor:!0},attrs:{placeholder:"12:05",type:"text"},model:{value:e.newEndTime,callback:function(t){e.newEndTime=t},expression:"newEndTime"}})],1)],1),n("div",{staticClass:"actions"},[n("Button",{staticClass:"onColor",on:{click:function(t){return e.$emit("remove")}}},[n("DeleteIcon",{attrs:{size:20}})],1),n("Button",{staticClass:"onColor",attrs:{disabled:!e.validInputs},on:{click:function(t){return e.$emit("save",e.newName,e.newLink,e.newPass,e.newStartTime,e.newEndTime)}}},[n("SaveIcon",{attrs:{size:20}})],1)],1)])},L=[],W=(n("9911"),n("ac1f"),n("466d"),n("498a"),/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/),D=/(^([0-2][0-9]):([0-5][0-9])$)/,B=/^[a-zA-Z][0-9]{2}[a-zA-Z]$/,U=/^[1-7]$/,P={LINK_REGEX:W,TIME_REGEX:D,exportName:function(e){return/.+\.json/.test(e)},closeTab:function(e){return"boolean"===typeof e},closeTabAfter:function(e){return parseFloat(e)>=0},darkTheme:function(e){return"boolean"===typeof e},syncSchedule:function(e){return"boolean"===typeof e},centuria:function(e){return B.test(e)},semester:function(e){return U.test(e)},subjectName:function(e){return""!==e.trim()},subjectLink:function(e){return null===e||void 0===e?void 0:e.match(W)},subjectTime:function(e){return null===e||void 0===e?void 0:e.match(D)}},F=n("0fc3"),M=n("0647"),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",e._b({ref:"input",staticClass:"input",domProps:{value:e.value},on:{input:function(t){return e.updateValue(t.target.value)}}},"input",Object.assign({},e.$props,e.$attrs),!1))},z=[],V={props:{value:{type:[Number,String],default:null}},methods:{updateValue:function(e){"file"===this.$attrs.type&&(e=this.$refs.input.files),this.$emit("input",e)}}},H=V,J=(n("c447"),Object(k["a"])(H,q,z,!1,null,"29a28fae",null)),K=J.exports,Y={name:"SubjectEdit",components:{SaveIcon:F["a"],DeleteIcon:M["a"],Button:E,Input:K},props:{name:{type:String,required:!0},link:{type:String,required:!0},pass:{type:String,required:!0},startTime:{type:String,required:!0},endTime:{type:String,required:!0}},data:function(){return{newName:this.name,newLink:this.link,newPass:this.pass,newStartTime:this.startTime,newEndTime:this.endTime}},computed:{validName:function(){return P.subjectName(this.newName)},validLink:function(){return P.subjectLink(this.newLink)},validStartTime:function(){return""==this.newStartTime||P.subjectTime(this.newStartTime)},validEndTime:function(){return""==this.newEndTime||P.subjectTime(this.newEndTime)},validInputs:function(){return this.validName&&this.validLink&&this.validStartTime&&this.validEndTime}},methods:{}},Z=Y,G=(n("d3e1"),Object(k["a"])(Z,R,L,!1,null,"4c546040",null)),X=G.exports,Q={name:"Subject",components:{SubjectDisplay:N,SubjectEdit:X},props:{dayIdx:{type:Number,required:!0},subjectIdx:{type:Number,required:!0},name:{type:String,required:!0},link:{type:String,required:!0},pass:{type:String,required:!0},startTime:{type:String,required:!0},endTime:{type:String,required:!0}},data:function(){return{mode:""===this.name?"edit":"display"}},methods:{save:function(e,t,n,a,r){this.$store.commit("EDIT_SUBJECT",{dayIdx:this.dayIdx,subjectIdx:this.subjectIdx,name:e,link:t,pass:n,startTime:a,endTime:r}),this.mode="display"},remove:function(){this.$store.commit("REMOVE_SUBJECT",{dayIdx:this.dayIdx,subjectIdx:this.subjectIdx})}}},ee=Q,te=(n("5ebe"),Object(k["a"])(ee,d,p,!1,null,"4d2088df",null)),ne=te.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add"},[n("span",{staticClass:"plusSymbol",attrs:{title:"Add new subject"},on:{click:function(t){return e.$store.commit("ADD_SUBJECT",e.dayIdx)}}},[e._v("+")])])},re=[],se={name:"AddSymbol",props:{dayIdx:{type:Number,required:!0}}},ie=se,oe=(n("d724"),Object(k["a"])(ie,ae,re,!1,null,"1754a3fa",null)),ce=oe.exports,ue=n("b76a"),le=n.n(ue),de={name:"Week",components:{Subject:ne,AddSymbol:ce,draggable:le.a},props:{},data:function(){return{}},computed:Object(l["a"])({},Object(r["b"])({week:"week"})),methods:{moveAddIcon:function(e){var t,n=Object(u["a"])(e.to.parentNode.parentNode.querySelectorAll(".add > span").values());try{for(n.s();!(t=n.n()).done;){var a=t.value;a.style.transition="0.3s ease",a.getBoundingClientRect(),a.style.transform=""}}catch(i){n.e(i)}finally{n.f()}if(0==e.relatedContext.list.length||1==e.relatedContext.list.length&&e.from==e.to){var r=e.dragged.getBoundingClientRect().height,s=e.to.parentNode.querySelector(".add > span");s.style.transition="0.3s ease",s.getBoundingClientRect(),s.style.transform="translateY(".concat(r+20,"px)")}},end:function(e){var t=e.to.querySelector(".add > span");t.style.transition="none",t.getBoundingClientRect(),t.style.transform=""}}},pe=de,me=(n("22ea"),Object(k["a"])(pe,o,c,!1,null,"035853f0",null)),fe=me.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"settings"}},[n("SettingsIcon"),n("Dialog",{attrs:{value:e.$store.state.settings.open,name:"Settings","help-link":"https://github.com/coderesting/zoomcalendar#zoom-calendar",styles:{width:"500px"}},on:{input:function(t){return e.$store.commit("SET_SETTINGS_OPEN",t)}}},[n("div",{staticClass:"tabs"},[n("span",{class:{active:"app"===e.currentTab},on:{click:function(t){e.currentTab="app"}}},[e._v("App")]),n("span",{class:{active:"sync"===e.currentTab},on:{click:function(t){e.currentTab="sync"}}},[e._v("Sync")])]),"app"===e.currentTab?n("AppSettings"):e._e(),"sync"===e.currentTab?n("SyncSettings"):e._e()],1)],1)},ve=[],be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SettingsIcon",{staticClass:"icon",attrs:{id:"settingsIcon",size:35},on:{click:function(t){return e.$store.commit("SET_SETTINGS_OPEN",!0)}}})},ge=[],ye=n("43af"),Te={name:"Settings",components:{SettingsIcon:ye["a"]}},Se=Te,ke=(n("e4ca"),Object(k["a"])(Se,be,ge,!1,null,"52c5ced3",null)),_e=ke.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dialog",class:{open:e.value}},[n("div",{staticClass:"background",on:{click:function(t){return e.$emit("input",!1)}}}),n("div",{staticClass:"popup",style:e.styles},[n("div",{staticClass:"header"},[n("CloseIcon",{staticClass:"closeIcon",attrs:{size:28},on:{click:function(t){return e.$emit("input",!1)}}}),n("h2",[e._v(e._s(e.name))]),n("a",{class:{helpIcon:!0,disabled:""===e.helpLink},attrs:{href:e.helpLink,target:"_blank"}},[n("HelpIcon",{attrs:{size:28}})],1)],1),e._t("default")],2)])},je=[],we=n("7eb5"),xe=n("8692"),Ce={name:"Dialog",components:{CloseIcon:we["a"],HelpIcon:xe["a"]},props:{value:{type:Boolean,required:!0},helpLink:{type:String,default:""},name:{type:String,required:!0},styles:{type:Object,default:function(){}}}},Ie=Ce,Oe=(n("75a1"),Object(k["a"])(Ie,Ee,je,!1,null,"2e0de6e3",null)),$e=Oe.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"appSettings"}},[n("div",[n("span",[e._v("Close join tab after")]),n("Input",{class:{error:!e.validCloseTabAfter},attrs:{type:"number"},model:{value:e.closeTabAfter,callback:function(t){e.closeTabAfter=t},expression:"closeTabAfter"}}),n("span",[e._v("s")])],1),n("Toggle",{staticClass:"toggle",attrs:{sync:!0,disabled:!e.validCloseTabAfter},model:{value:e.closeTab,callback:function(t){e.closeTab=t},expression:"closeTab"}}),n("span",[e._v("Dark theme")]),n("Toggle",{staticClass:"toggle",attrs:{sync:!0},model:{value:e.darkTheme,callback:function(t){e.darkTheme=t},expression:"darkTheme"}}),n("span",[e._v("Show Saturday")]),n("Toggle",{staticClass:"toggle",attrs:{sync:!0},model:{value:e.showSaturday,callback:function(t){e.showSaturday=t},expression:"showSaturday"}}),n("div",[n("span",[e._v("Sort schedule")]),n("Input",{class:{error:!e.validCenturia},attrs:{placeholder:"Centuria",type:"text"},model:{value:e.centuria,callback:function(t){e.centuria=t},expression:"centuria"}}),n("Input",{class:{error:!e.validSemester},attrs:{placeholder:"Semester",type:"number"},model:{value:e.semester,callback:function(t){e.semester=t},expression:"semester"}})],1),n("Toggle",{staticClass:"toggle",attrs:{sync:!0,disabled:!e.validCenturia||!e.validSemester},model:{value:e.syncSchedule,callback:function(t){e.syncSchedule=t},expression:"syncSchedule"}}),e.syncSchedule?n("div",[n("InfoIcon",{staticClass:"infoIcon"}),n("span",[e._v("Name your subjects exactly like your schedule")])],1):e._e(),e.syncSchedule?n("div"):e._e(),e.syncSchedule?n("div",[n("InfoIcon",{staticClass:"infoIcon"}),n("span",[e._v("You cannot change your schedule in this mode")])],1):e._e()],1)},Ne=[],Re=n("a54d"),Le=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("ToggleButton",{attrs:{margin:5,width:61,height:28,sync:t.sync,color:{checked:"var(--app-color)",unchecked:"var(--background-hover)"},disabled:t.disabled,value:t.value},on:{input:function(t){return e.$emit("input",t)}}})},We=[],De=n("f206"),Be={name:"Toggle",components:{ToggleButton:De["ToggleButton"]},props:{sync:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},value:{type:Boolean,default:!1}}},Ue=Be,Pe=Object(k["a"])(Ue,Le,We,!1,null,"36a54e61",null),Fe=Pe.exports,Me={name:"AppSettings",components:{InfoIcon:Re["a"],Toggle:Fe,Input:K},props:{},data:function(){return{exportName:"plan.json",importFiles:null}},computed:{validCloseTabAfter:function(){return P.closeTabAfter(this.closeTabAfter)},validExportName:function(){return P.exportName(this.exportName)},validCenturia:function(){return P.centuria(this.centuria)},validSemester:function(){return P.semester(this.semester)},appColor:function(){return getComputedStyle(document.body).getPropertyValue("--app-color")},closeTab:{get:function(){return this.$store.state.settings.closeTab},set:function(e){this.$store.commit("SET_CLOSE_TAB",e)}},closeTabAfter:{get:function(){return this.$store.state.settings.closeTabAfter},set:function(e){var t=parseFloat(e);this.$store.commit("SET_CLOSE_TAB_AFTER",isNaN(t)?null:t)}},darkTheme:{get:function(){return this.$store.state.settings.darkTheme},set:function(e){this.$store.commit("SET_DARK_THEME",e)}},showSaturday:{get:function(){return this.$store.state.settings.showSaturday},set:function(e){this.$store.commit("SET_SHOW_SATURDAY",e)}},centuria:{get:function(){return this.$store.state.settings.centuria},set:function(e){this.$store.commit("SET_CENTURIA",e)}},semester:{get:function(){return this.$store.state.settings.semester},set:function(e){this.$store.commit("SET_SEMESTER",e)}},syncSchedule:{get:function(){return this.$store.state.settings.syncSchedule},set:function(e){e&&this.$notify({group:"main",title:"Sorting schedule",duration:3e3,type:"ok"}),this.$store.commit("SET_SYNC_SCHEDULE",e)}}},watch:{validCloseTabAfter:function(e){e||(this.closeTab=!1)},validCenturia:function(e){e||(this.syncSchedule=!1)},validSemester:function(e){e||(this.syncSchedule=!1)}},methods:{}},qe=Me,ze=(n("7e9f"),Object(k["a"])(qe,Ae,Ne,!1,null,"69ef82e7",null)),Ve=ze.exports,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"syncSettings"}},[n("Login"),n("div",{staticClass:"actions"},[e.$store.state.settings.loggedIn?n("img",{attrs:{src:e.$store.state.settings.avatarURL}}):e._e(),e.$store.state.settings.loggedIn?n("Button",{on:{click:function(){return e.logout()}}},[e._v("Logout")]):e._e(),n("Input",{attrs:{type:"file",accept:".json"},on:{input:function(t){return e.importFiles=t}}}),n("Button",{on:{click:function(t){return e.importFile()}}},[e._v("Import")]),n("Input",{class:{error:!e.validExportName},attrs:{type:"text"},model:{value:e.exportName,callback:function(t){e.exportName=t},expression:"exportName"}}),n("Button",{attrs:{disabled:!e.validExportName},on:{click:function(t){return e.exportFile()}}},[e._v("Export")])],1)],1)},Je=[],Ke=(n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("25f0"),n("4d90"),n("159b"),/([0-2]?[0-9]):([0-5]?[0-9])/);function Ye(e){if(null==e)return null;var t=e.match(Ke);return null===t||3!==t.length?null:{hours:parseInt(t[1]),minutes:parseInt(t[2])}}var Ze=n("a41b").Validator;Ze.prototype.customFormats.link=function(e){return P.subjectLink(e)||""==e};var Ge=new Ze,Xe={type:"array",items:{properties:{name:{type:"string"},subjects:{type:"array",items:{properties:{name:{type:"string"},link:{type:"string",format:"link"},pass:{type:"string"},startTime:{type:"string"},endTime:{type:"string"}},required:["name","link","pass"]}}},required:["name","subjects"]}};function Qe(e){var t=e.map((function(e){return e.name+e.startTime+e.endTime}));return e.filter((function(e,n){return n===t.indexOf(e.name+e.startTime+e.endTime)}))}function et(e){var t=Ye(e);if(!t)return"";var n=t.hours.toString().padStart(2,"0"),a=t.minutes.toString().padStart(2,"0");return"".concat(n,":").concat(a)}function tt(e){return e.forEach((function(e){e.subjects.forEach((function(e){e.id=Math.random().toString(36).substr(2,9),e.startTime=et(e.startTime),e.endTime=et(e.endTime)})),e.subjects=Qe(e.subjects)})),e}var nt=function(e){var t=Ge.validate(e,Xe);return t.valid?(tt(e),e):(console.log(t.errors),null)};function at(e){var t,n=Object(u["a"])(e);try{for(n.s();!(t=n.n()).done;){var a,r=t.value,s=Object(u["a"])(r.subjects);try{for(s.s();!(a=s.n()).done;){var i=a.value;if(i)return!1}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return!0}var rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[e.$store.state.settings.loggedIn?e._e():n("div",{staticClass:"options"},[n("img",{attrs:{src:"assets/login/google.svg"},on:{click:function(){return e.login("google")}}}),n("img",{attrs:{src:"assets/login/discord.svg"},on:{click:function(){return e.login("discord")}}}),n("img",{attrs:{src:"assets/login/github.svg"},on:{click:function(){return e.login("github")}}})]),e.$store.state.settings.loggedIn?e._e():n("div",{staticClass:"info"},[n("div",[n("InfoIcon",{staticClass:"infoIcon"}),n("span",[e._v("Your account schedule will override the local schedule ")])],1),n("div",[n("InfoIcon",{staticClass:"infoIcon"}),e._m(0)],1),n("div",[n("InfoIcon",{staticClass:"infoIcon"}),n("span",[e._v("Export your schedule before you login to be save")])],1)])])},st=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v("Delete "),n("b",[e._v("all")]),e._v(" meetings from your account over "),n("a",{attrs:{href:"https://zoom.icetoast.cloud/"}},[e._v("here")]),e._v(" to prevent this")])}],it={name:"Login",components:{InfoIcon:Re["a"]},methods:{login:function(e){window.location.href="https://zoom.icetoast.cloud/api/auth/".concat(e)}}},ot=it,ct=(n("4105"),Object(k["a"])(ot,rt,st,!1,null,"bfe81594",null)),ut=ct.exports,lt={name:"Settings",components:{Button:E,Input:K,Login:ut},props:{},data:function(){return{exportName:"plan.json",importFiles:null}},computed:{validExportName:function(){return P.exportName(this.exportName)}},methods:{importFile:function(){var e=this;if(null!=this.importFiles&&0!==this.importFiles.length){var t=new FileReader;t.addEventListener("load",(function(t){try{var n=nt(JSON.parse(t.target.result));if(null===n)throw"Week not clean";e.$store.dispatch("importWeek",n),e.showNotification("Imported Data","success")}catch(a){e.showNotification("JSON format is wrong","error")}})),t.readAsText(this.importFiles[0])}else this.showNotification("No file selected","error")},exportFile:function(){if(""!=this.exportName.trim()){var e=document.createElement("a");e.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.$store.getters.weekForExport,null,2))),e.setAttribute("download",this.exportName),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),this.showNotification("Exported "+this.exportName,"success")}else this.showNotification("No filename specified","error")},showNotification:function(e,t){this.$notify({group:"main",title:e,duration:5e3,type:t})},logout:function(){this.$store.commit("SET_LOGIN_STATE",!1),this.$store.commit("SET_AVATAR_URL",null),window.location.href="https://zoom.icetoast.cloud/api/user/logout"}}},dt=lt,pt=(n("e058"),Object(k["a"])(dt,He,Je,!1,null,"fb278f26",null)),mt=pt.exports,ft={name:"Settings",components:{SettingsIcon:_e,Dialog:$e,AppSettings:Ve,SyncSettings:mt},props:{},data:function(){return{currentTab:"app"}}},ht=ft,vt=(n("cc42"),Object(k["a"])(ht,he,ve,!1,null,"51f1f612",null)),bt=vt.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{name:"Import Data"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("div",{attrs:{id:"transferState"}},[n("div",{staticClass:"mutations"},[e._l(Object.entries(e.importValues),(function(t){var a=t[0],r=t[1];return[n("span",{key:"1"+a},[e._v(e._s(a)+":")]),n("span",{key:"2"+a,staticClass:"value"},[e._v(e._s(r.value))]),r.valid?n("ToggleButton",{key:"3"+a,attrs:{color:e.appColor},model:{value:r.import,callback:function(t){e.$set(r,"import",t)},expression:"mutation.import"}}):e._e(),r.valid?e._e():n("ErrorIcon",{key:"4"+a,staticClass:"errorIcon",attrs:{title:a+" is not valid","fill-color":e.errorColor}})]}))],2),n("div",{staticClass:"actions"},[n("Button",{on:{click:e.discard}},[e._v("Discard")]),n("Button",{attrs:{disabled:!e.importPosible},on:{click:e.mutate}},[e._v("Import")])],1)])])},yt=[],Tt=(n("4fad"),n("07ac"),n("2ca0"),n("3835")),St=n("6f7c"),kt={closeTabAfter:{validate:P.closeTabAfter.bind(null),mutate:function(e,t){return e.commit("SET_CLOSE_TAB_AFTER",t)}},closeTab:{validate:P.closeTab.bind(null),mutate:function(e,t){return e.commit("SET_CLOSE_TAB",t)}},darkTheme:{validate:P.darkTheme.bind(null),mutate:function(e,t){return e.commit("SET_DARK_THEME",t)}},centuria:{validate:P.centuria.bind(null),mutate:function(e,t){return e.commit("SET_CENTURIA",t)}},semester:{validate:P.semester.bind(null),mutate:function(e,t){return e.commit("SET_SEMESTER",t)}},syncSchedule:{validate:P.syncSchedule.bind(null),mutate:function(e,t){return e.commit("SET_SYNC_SCHEDULE",t)}},week:{validate:function(e){return null!==nt(e)},mutate:function(e,t){return e.commit("SET_USER_WEEK",nt(t))}}},_t={name:"TransferState",components:{Button:E,ErrorIcon:St["a"],ToggleButton:De["ToggleButton"],Dialog:$e},props:{},data:function(){return{open:!1,importValues:{}}},computed:{errorColor:function(){return getComputedStyle(document.body).getPropertyValue("--error")},appColor:function(){return getComputedStyle(document.body).getPropertyValue("--app-color")},importPosible:function(){for(var e=0,t=Object.values(this.importValues);e<t.length;e++){var n=t[e];if(n.import)return!0}return!1}},watch:{},mounted:function(){location.hash.startsWith("#import")&&this.parseMutations(decodeURI(location.hash.substring(7)))},methods:{parseMutations:function(e){try{var t=JSON.parse(e);for(var n in t){var a=t[n],r=null!=kt[n]&&kt[n].validate(a);this.$set(this.importValues,n,{valid:r,value:a,import:r})}this.open=!0}catch(s){this.$notify({group:"main",title:"Failed to import data",duration:5e3,type:"error"})}},mutate:function(){for(var e=0,t=Object.entries(this.importValues);e<t.length;e++){var n=Object(Tt["a"])(t[e],2),a=n[0],r=n[1];r.import&&kt[a].mutate(this.$store,r.value)}this.discard()},discard:function(){this.open=!1,window.location=""}}},Et=_t,jt=(n("f105"),Object(k["a"])(Et,gt,yt,!1,null,"a39074c4",null)),wt=jt.exports,xt={name:"Calendar",components:{Week:fe,Settings:bt,TransferState:wt},mounted:function(){}},Ct=xt,It=Object(k["a"])(Ct,s,i,!1,null,null,null),Ot=It.exports,$t=n("ee98"),At=n.n($t),Nt=(n("a434"),n("2909")),Rt=n("bfa9"),Lt=function(){return[{name:"Monday",subjects:[]},{name:"Tuesday",subjects:[]},{name:"Wednesday",subjects:[]},{name:"Thursday",subjects:[]},{name:"Friday",subjects:[]},{name:"Saturday",subjects:[]}]};n("5db7"),n("73d9");function Wt(e,t,n){for(var a=0;a<e.length;a++){var r=Ye(e[a].startTime);if(null==r||t<r.hours||t===r.hours&&n<r.minutes)return a}return e.length}function Dt(e,t,n){var a=Ye(n.startTime),r=e[t].subjects.length;null!==a&&0!==e[t].subjects.length&&(r=Wt(e[t].subjects,a.hours,a.minutes)),e[t].subjects.splice(r,0,n)}var Bt=function(e,t){var n=e.flatMap((function(e,t){return e.subjects.map((function(e){return Object(l["a"])(Object(l["a"])({},e),{},{dayIdx:t,used:!1})}))})),a=n.map((function(e){return e.name}));t=t.map((function(r,s){return{name:(e[s]||t[s]).name,subjects:r.subjects.map((function(e){var t=a.indexOf(e.name),r={};return t>-1&&(n[t].used=!0,r.link=n[t].link,r.pass=n[t].pass),Object(l["a"])(Object(l["a"])({},e),r)}))}}));var r,s=Object(u["a"])(n.values());try{for(s.s();!(r=s.n()).done;){var i=r.value;i.used||""==i.name||Dt(t,i.dayIdx,i)}}catch(o){s.e(o)}finally{s.f()}return t},Ut={SET_DARK_THEME:function(e,t){e.settings.darkTheme=t},SET_SHOW_SATURDAY:function(e,t){e.settings.showSaturday=t},SET_SETTINGS_OPEN:function(e,t){e.settings.open=t},SET_CLOSE_TAB:function(e,t){e.settings.closeTab=t},SET_CLOSE_TAB_AFTER:function(e,t){e.settings.closeTabAfter=t},SET_SYNC_SCHEDULE:function(e,t){e.settings.syncSchedule=t},SET_CENTURIA:function(e,t){e.settings.centuria=t},SET_SEMESTER:function(e,t){e.settings.semester=t},SET_LOGIN_STATE:function(e,t){e.settings.loggedIn=t},SET_AVATAR_URL:function(e,t){e.settings.avatarURL=t}},Pt={ADD_SUBJECT:function(e,t){var n=Object(Nt["a"])(e.userWeek);n[t].subjects.push({name:"",link:"",pass:"",startTime:"",endTime:"",id:Math.random().toString(36).substr(2,9)}),e.userWeek=n},EDIT_SUBJECT:function(e,t){var n=t.dayIdx,a=t.subjectIdx,r=t.name,s=t.link,i=t.pass,o=t.startTime,c=t.endTime,u=Object(Nt["a"])(e.userWeek);u[n].subjects[a].name=r,u[n].subjects[a].link=s,u[n].subjects[a].pass=i,u[n].subjects[a].startTime=o,u[n].subjects[a].endTime=c,e.userWeek=u},REMOVE_SUBJECT:function(e,t){var n=t.dayIdx,a=t.subjectIdx,r=Object(Nt["a"])(e.userWeek);r[n].subjects.splice(a,1),e.userWeek=r},SET_DAY:function(e,t){var n=t.dayIdx,a=t.day,r=Object(Nt["a"])(e.userWeek);r[n].subjects=a,e.userWeek=r},SET_USER_WEEK:function(e,t){e.userWeek=t},SET_SCHEDULE_WEEK:function(e,t){e.scheduleWeek=t}},Ft=[{target:function(e){return e.settings.darkTheme},action:function(e,t){t?document.body.classList.add("dark"):document.body.classList.remove("dark")},options:{immediate:!0}},{target:function(e){return e.settings.syncSchedule},action:function(e,t){t&&e.dispatch("syncSchedule")},options:{immediate:!0}},{target:function(e){return e.userWeek},action:function(e,t){e.state.settings.loggedIn&&e.dispatch("uploadWeek",t)},options:{}},{target:function(e){return e.settings.showSaturday},action:function(e,t){if(t&&e.state.userWeek.length<=5){var n=Lt()[5];e.commit("SET_USER_WEEK",[].concat(Object(Nt["a"])(e.state.userWeek),[n]))}},options:{}}],Mt={checkLogin:function(e){return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=!1,r=null,t.prev=2,t.next=5,fetch("https://zoom.icetoast.cloud/api/user",{credentials:"include"});case 5:if(s=t.sent,s.ok){t.next=8;break}throw"not logged in";case 8:return t.next=10,s.json();case 10:i=t.sent,r=i.avatarurl,n=!0,e.dispatch("downloadWeek"),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](2),e.state.settings.loggedIn&&a["default"].notify({group:"main",title:"Login failed",duration:3e3,type:"error"});case 19:e.commit("SET_LOGIN_STATE",n),e.commit("SET_AVATAR_URL",r);case 21:case"end":return t.stop()}}),t,null,[[2,16]])})))()}},qt=n("f93a");function zt(e){var t=Lt(),n=qt.parseICS(e),a=new Date;a.setDate(a.getDate()-(a.getDay()+6)%7),a.setHours(0,0,0,0);var r=new Date;r.setDate(a.getDate()+7),r.setHours(0,0,0,0);for(var s=0,i=Object.values(n);s<i.length;s++){var o=i[s];"VEVENT"==o.type&&o.start>a&&o.start<r&&t[o.start.getDay()-1].subjects.push({name:o.summary,link:"",pass:"",startTime:"".concat(o.start.getHours(),":").concat(o.start.getMinutes()),endTime:"".concat(o.end.getHours(),":").concat(o.end.getMinutes()),id:Math.random().toString(36).substr(2,9)})}return t}function Vt(){return Ht.apply(this,arguments)}function Ht(){return Ht=Object(j["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://zoom.icetoast.cloud/api/meeting",{credentials:"include"});case 2:if(t=e.sent,t.ok){e.next=5;break}throw t.statusText;case 5:return e.next=7,t.json();case 7:if(n=e.sent,a=Gt(n),r=nt(a),r){e.next=12;break}throw"week not clean";case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)}))),Ht.apply(this,arguments)}function Jt(e){return Kt.apply(this,arguments)}function Kt(){return Kt=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Yt();case 2:if(n=Xt(t),0!=n.length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("https://zoom.icetoast.cloud/api/meeting",{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 7:if(a=e.sent,a.ok){e.next=10;break}throw a.statusText;case 10:case"end":return e.stop()}}),e)}))),Kt.apply(this,arguments)}function Yt(){return Zt.apply(this,arguments)}function Zt(){return Zt=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://zoom.icetoast.cloud/api/meeting/flushSchedule",{credentials:"include",method:"DELETE"});case 3:if(t=e.sent,t.ok){e.next=6;break}throw t.statusText;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.warn("couldn't flush account week. Propably empty");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),Zt.apply(this,arguments)}function Gt(e){var t,n=Object(u["a"])(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.subjects=a.meetings,delete a.meetings;var r,s=Object(u["a"])(a.subjects);try{for(s.s();!(r=s.n()).done;){var i=r.value;i.id=i._id,delete i._id,i.pass=i.password||"",delete i.password,i.startTime||(i.startTime=""),i.endTime||(i.endTime="")}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return e}function Xt(e){var t,n=[],a=Object(u["a"])(e.entries());try{for(a.s();!(t=a.n()).done;){var r,s=Object(Tt["a"])(t.value,2),i=s[0],o=s[1],c=Object(u["a"])(o.subjects);try{for(c.s();!(r=c.n()).done;){var l=r.value;P.subjectName(l.name)&&P.subjectLink(l.link)&&n.push({day:en(i),link:l.link,name:l.name,password:l.pass,startTime:l.startTime,endTime:l.endTime})}}catch(d){c.e(d)}finally{c.f()}}}catch(d){a.e(d)}finally{a.f()}return n}var Qt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function en(e){return e>=0&&e<=5?Qt[e]:Qt[5]}function tn(e,t){a["default"].notify({group:"main",title:t,duration:3e3,type:e})}var nn={uploadWeek:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jt(t);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),console.error(e.t0),tn("error","Failed to upload schedule to your account");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))()},downloadWeek:function(e){return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vt();case 3:n=t.sent,at(n)?e.dispatch("uploadWeek",e.state.userWeek):e.dispatch("importWeek",n),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0),tn("error","Failed to download schedule from your account");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},importWeek:function(e,t){var n=nt(t);n&&e.commit("SET_USER_WEEK",n)},syncSchedule:function(e){return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state.settings,a=n.centuria,r=n.semester,t.prev=1,t.next=4,fetch("https://schedule-cleaner.herokuapp.com/cleaned-schedule/".concat(a,"_").concat(r,".ics"));case 4:if(s=t.sent,s.ok){t.next=7;break}throw"URL not available";case 7:return t.next=9,s.arrayBuffer();case 9:if(i=t.sent,o=new TextDecoder("iso-8859-1").decode(i),c=zt(o),u=nt(c),null!==u){t.next=15;break}throw"Week not clean";case 15:e.commit("SET_SCHEDULE_WEEK",u),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](1),tn("error","Failed to sort schedule for ".concat(a,"-").concat(r));case 21:case"end":return t.stop()}}),t,null,[[1,18]])})))()}},an={state:{version:1,userWeek:Lt(),scheduleWeek:Lt(),settings:{open:!1,closeTabAfter:7,closeTab:!1,darkTheme:!0,centuria:"A19a",semester:4,syncSchedule:!1,loggedIn:!1,avatarURL:null,showSaturday:!1}},mutations:Object(l["a"])(Object(l["a"])({},Ut),Pt),actions:Object(l["a"])(Object(l["a"])({},Mt),nn),getters:{weekForExport:function(e){return e.userWeek},week:function(e){var t=Object(Nt["a"])(e.userWeek);if(e.settings.syncSchedule){var n=e.userWeek,a=e.scheduleWeek;t=Bt(n,a)}if(!e.settings.showSaturday)for(var r in t)"Saturday"!==t[r].name&&"Samstag"!==t[r].name||t.splice(r,1);return t}}};function rn(){var e,t=new Rt["a"]({storage:window.localStorage,reducer:function(e){return Object(l["a"])(Object(l["a"])({},e),{},{settings:Object(l["a"])(Object(l["a"])({},e.settings),{},{open:!1})})}}),n=new r["a"].Store(Object(l["a"])(Object(l["a"])({},an),{},{plugins:[t.plugin]})),a=Object(u["a"])(Ft);try{var s=function(){var t=e.value;n.watch(t.target,(function(e){return t.action(n,e)}),t.options)};for(a.s();!(e=a.n()).done;)s()}catch(i){a.e(i)}finally{a.f()}return n.dispatch("checkLogin"),n}var sn=rn;a["default"].use(r["a"]),a["default"].use(At.a),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(Ot)},store:sn()}).$mount("#calendar"),"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then((function(e){console.log("Registration succeeded. Scope is "+e.scope)})).catch((function(e){console.log("Registration failed with "+e)}))},"587d":function(e,t,n){"use strict";var a=n("40a2"),r=n.n(a);r.a},"5ebe":function(e,t,n){"use strict";var a=n("19e3"),r=n.n(a);r.a},"644c":function(e,t,n){},"75a1":function(e,t,n){"use strict";var a=n("644c"),r=n.n(a);r.a},"7e9f":function(e,t,n){"use strict";var a=n("501a"),r=n.n(a);r.a},aeb8:function(e,t,n){"use strict";var a=n("fcd6"),r=n.n(a);r.a},b403:function(e,t,n){},c447:function(e,t,n){"use strict";var a=n("c6e7"),r=n.n(a);r.a},c6e7:function(e,t,n){},cc42:function(e,t,n){"use strict";var a=n("0933"),r=n.n(a);r.a},d3e1:function(e,t,n){"use strict";var a=n("4b56"),r=n.n(a);r.a},d724:function(e,t,n){"use strict";var a=n("002a"),r=n.n(a);r.a},e058:function(e,t,n){"use strict";var a=n("287e"),r=n.n(a);r.a},e4ca:function(e,t,n){"use strict";var a=n("3346"),r=n.n(a);r.a},f105:function(e,t,n){"use strict";var a=n("45f5"),r=n.n(a);r.a},fca3:function(e,t,n){},fcd6:function(e,t,n){}});
//# sourceMappingURL=app.70a79989.js.map